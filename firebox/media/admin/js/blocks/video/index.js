(()=>{var e={9894:()=>{const e="SET_BREAKPOINT",t={breakpoint:"desktop"};wp.data.select("fpframework-breakpoints")||wp.data.registerStore("fpframework-breakpoints",{reducer:(o=t,r)=>r.type===e?{...o,breakpoint:r.breakpoint}:o,actions:{onBreakpointSet:t=>({type:e,breakpoint:t})},selectors:{getBreakpoint:e=>e.breakpoint}})},4184:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var l=n.apply(null,o);l&&e.push(l)}}else if("object"===a){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var i in o)r.call(o,i)&&o[i]&&e.push(i)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},2703:(e,t,o)=>{"use strict";var r=o(414);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,o,n,a,l){if(l!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return o.PropTypes=o,o}},5697:(e,t,o)=>{e.exports=o(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5192:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var l=n.apply(null,o);l&&e.push(l)}}else if("object"===a){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var i in o)r.call(o,i)&&o[i]&&e.push(i)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},9281:(e,t,o)=>{"use strict";var r=o(7889);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,o,n,a,l){if(l!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return o.PropTypes=o,o}},1277:(e,t,o)=>{e.exports=o(9281)()},7889:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.React,r=window.wp.i18n,n=window.wp.blockEditor,a=window.wp.element,l=window.wp.components,i=window.wp.data;var s=o(4184),c=o.n(s),p=o(5697),d=o.n(p);const u=({label:e,disableAlpha:o=!1,wrapperClass:n="",value:s,help:c="",defaultValue:p="",onChange:d})=>{const[u,m]=(0,a.useState)(!1),[b,f]=(0,a.useState)(!1),v=(0,i.useSelect)((e=>e("core/block-editor").getSettings().colors));return(0,t.createElement)("div",{className:"components-base-control"},(0,t.createElement)("div",{className:`wp-block-fpframework-color-selector-settings-container ${n}`},(0,t.createElement)("div",{className:"inner"},e&&(0,t.createElement)("span",{className:"wp-block-fpframework-color-selector-label"},e),(0,t.createElement)("div",{className:"actions"},s&&s!==p&&(0,t.createElement)(l.Tooltip,{text:(0,r.__)("Reset","fpf-framework")},(0,t.createElement)(l.Button,{className:"components-color-palette__clear",type:"button",onClick:()=>{d(p)},isSmall:!0},(0,t.createElement)(l.Dashicon,{icon:"redo"}))),(0,t.createElement)("div",{className:"wp-block-fpframework-color-selector-color-click"},u&&(0,t.createElement)(a.Fragment,null,(0,t.createElement)(l.Popover,{position:"top left",className:"wp-block-fpframework-popover-color",onClose:()=>m(!1)},(0,t.createElement)(l.ColorPicker,{key:b,color:s,onChangeComplete:e=>{if(e.rgb&&1===e.rgb.a||o)d(e.hex);else{const{r:t,g:o,b:r,a:n}=e.rgb;d(`rgba(${t}, ${o}, ${r}, ${n})`)}},disableAlpha:!1}),v.length>0&&(0,t.createElement)("div",{className:"components-color-palette"},v.map((e=>(0,t.createElement)("div",{key:e.slug,className:"components-color-palette__item-wrapper"},(0,t.createElement)(l.Button,{type:"button",className:"components-color-palette__item "+(s===e.color?"is-active":""),onClick:()=>{d(e.color),f((e=>!e))},style:{backgroundColor:e.color,color:e.color},"aria-label":e.name?
// translators: %s: The name of the color i.e.: "blue".
// translators: %s: The name of the color i.e.: "blue".
(0,r.sprintf)((0,r.__)("Color: %s"),name):
// translators: %s: color hex code i.e.: "#ffffff".
// translators: %s: color hex code i.e.: "#ffffff".
(0,r.sprintf)((0,r.__)("Color hex code: %s"),e),"aria-pressed":e.color===s}),e.color===s&&(0,t.createElement)(l.Dashicon,{icon:"saved"}))))),(0,t.createElement)("div",{className:"wp-block-fpframework-color-selector-popover-footer"},(0,t.createElement)(l.Button,{isSecondary:!0,isSmall:!0,disabled:!s,onClick:()=>d(p)},(0,r.__)("Clear","fpf-framework"))))),(0,t.createElement)(l.Tooltip,{text:(0,r.__)("Select Color","fpf-framework")},(0,t.createElement)(l.Button,{className:"wp-block-fpframework-color-selector-icon-indicator",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onClick:()=>{m((e=>!e))}},(0,t.createElement)(l.ColorIndicator,{className:"wp-block-fpframework-color-selector-indicator"+(""===s?" is-empty":""),colorValue:s})))))),c&&(0,t.createElement)("div",{className:"wp-block-fpframework-color-selector-help"},c)))};var m=o(5192),b=o.n(m);o(9894);const f=({children:e,childrenClass:o="",wrapperClass:r=""})=>{const n=(0,i.useSelect)((e=>e("fpframework-breakpoints").getBreakpoint())),{onBreakpointSet:a}=(0,i.useDispatch)("fpframework-breakpoints");return(0,t.createElement)("div",{className:`components-base-control wp-block-fpframework-responsive-control-wrap ${r}`},(0,t.createElement)("div",{className:"wp-block-fpframework-responsive-control-wrap-buttons"},[{value:"desktop",icon:"desktop"},{value:"tablet",icon:"tablet"},{value:"mobile",icon:"smartphone"}].map(((e,o)=>(0,t.createElement)("button",{key:o,onClick:()=>a(e.value),className:b()({"wp-block-fpframework-responsive-control-wrap-button":!0,active:e.value===n})},(0,t.createElement)("span",{className:`dashicons dashicons-${e.icon}`}))))),(0,t.createElement)("div",{className:o},e(n)))},v=({setAttributes:e,attributeKey:o,attributes:n,label:a,breakpoint:i,positionsLabels:s=[],positions:c=["top","right","bottom","left"]})=>{const p=n[o],d=c[0],u=c[1],m=c[2],b=c[3],f=n[o]?.linked;return(0,t.createElement)("div",{className:"wp-block-fpframework-control-spacing components-base-control"},(0,t.createElement)("p",{className:"wp-block-fpframework-control-spacing-label"},a),(0,t.createElement)("div",{className:"wp-block-fpframework-control-spacing-controls-wrap"},(0,t.createElement)("div",{className:"wp-block-fpframework-control-spacing-controls"},c.map(((r,n)=>{var a;return(0,t.createElement)("div",{key:n,className:"wp-block-fpframework-spacing-controls-item"},(0,t.createElement)(l.TextControl,{value:i?p[i][r]:p[r],type:"number",min:-200,max:200,step:1,onChange:t=>((t,r)=>{if(i)return f?void e({[o]:{...p,[i]:{...p[i],[d]:t,[u]:t,[m]:t,[b]:t}}}):void e({[o]:{...p,[i]:{...p[i],[r]:t}}});e(f?{[o]:{...p,[d]:t,[u]:t,[m]:t,[b]:t}}:{[o]:{...p,[r]:t}})})(t,r)}),(0,t.createElement)("p",{className:"label",dangerouslySetInnerHTML:{__html:null!==(a=s[r])&&void 0!==a?a:r}}))}))),(0,t.createElement)(l.Button,{isSecondary:!f,isPrimary:f,className:"components-toolbar__control",label:(0,r.__)("Link Values","fpf-framework"),icon:"admin-links",onClick:()=>{e({[o]:{...p,linked:!f}})}})))};var h=o(1277),g=o.n(h);const _={attributes:g().object.isRequired,setAttributes:g().func.isRequired,attributePrefix:g().string,maxBorderWidth:g().number,showBorderRadius:g().bool,defaultValues:g().shape({color:g().string,radius:g().object,width:g().string})},k=({attributes:e,setAttributes:o,attributePrefix:n="block",title:i="",defaultValues:s={},maxBorderWidth:c=100,showBorderRadius:p=!0})=>{const d=n?e[`${n}BorderColor`]:e.borderColor,m=n?e[`${n}BorderWidth`]:e.borderWidth,b=n?e[`${n}BorderStyle`]:e.borderStyle,h=n?`${n}BorderRadius`:"borderRadius";return(0,t.createElement)(a.Fragment,null,(0,t.createElement)(l.SelectControl,{label:i,value:b,options:[{value:"none",label:(0,r.__)("None","fpf-framework")},{value:"solid",label:(0,r.__)("Solid","fpf-framework")},{value:"dotted",label:(0,r.__)("Dotted","fpf-framework")},{value:"dashed",label:(0,r.__)("Dashed","fpf-framework")},{value:"double",label:(0,r.__)("Double","fpf-framework")},{value:"groove",label:(0,r.__)("Groove","fpf-framework")},{value:"ridge",label:(0,r.__)("Ridge","fpf-framework")}],onChange:e=>{o(n?{[`${n}BorderStyle`]:e}:{borderStyle:e})}}),"none"!==b&&!!b&&(0,t.createElement)(a.Fragment,null,(0,t.createElement)(u,{value:d||"",defaultValue:s.color||"",label:(0,r.__)("Border color","fpf-framework"),disableAlpha:!1,onChange:e=>{o(n?{[`${n}BorderColor`]:e}:{borderColor:e})}}),(0,t.createElement)(l.RangeControl,{label:(0,r.__)("Border Width (px)","fpf-framework"),min:0,max:c,value:m,onChange:e=>{o(n?{[`${n}BorderWidth`]:e}:{borderWidth:e})},step:1,initialPosition:s.width||0,allowReset:!0})),p&&(0,t.createElement)(f,null,(n=>(0,t.createElement)(v,{label:(0,r.__)("Border Radius (px)","fpf-framework"),attributeKey:h,attributes:e,setAttributes:o,breakpoint:n,positions:["top_left","top_right","bottom_right","bottom_left"],positionsLabels:{top_left:`<div>${(0,r.__)("TOP","fpf-framework")}</div><div>${(0,r.__)("LEFT","fpf-framework")}</div>`,top_right:`<div>${(0,r.__)("TOP","fpf-framework")}</div><div>${(0,r.__)("RIGHT","fpf-framework")}</div>`,bottom_right:`<div>${(0,r.__)("BOTTOM","fpf-framework")}</div><div>${(0,r.__)("RIGHT","fpf-framework")}</div>`,bottom_left:`<div>${(0,r.__)("BOTTOM","fpf-framework")}</div><div>${(0,r.__)("LEFT","fpf-framework")}</div>`}}))))};k.propTypes=_;const w=k,y={value:g().object.isRequired,onUpdate:g().func.isRequired},E=({value:e,onUpdate:o})=>{const{type:n,top:i,left:s,spread:c,color:p,width:d}=null!=e?e:{},m=t=>{o({...e,...t})};return(0,t.createElement)(a.Fragment,null,(0,t.createElement)(l.SelectControl,{label:(0,r.__)("Type","fpf-framework"),value:n,options:[{value:"none",label:(0,r.__)("None","fpf-framework")},{value:"outset",label:(0,r.__)("Outset","fpf-framework")},{value:"inset",label:(0,r.__)("Inset","fpf-framework")}],onChange:e=>{m({type:e})}}),"none"!==n&&!!n&&(0,t.createElement)(a.Fragment,null,(0,t.createElement)(u,{wrapperClass:"fpframework-gutenberg-p-t-0",value:p,defaultValue:"",label:(0,r.__)("Color","fpf-framework"),disableAlpha:!1,onChange:e=>{m({color:e})}}),(0,t.createElement)(l.RangeControl,{label:(0,r.__)("Blur (px)","fpf-framework"),min:0,max:100,value:d,onChange:e=>{m({width:e||0})},step:1,initialPosition:7,allowReset:!0}),(0,t.createElement)(l.RangeControl,{label:(0,r.__)("Spread (px)","fpf-framework"),min:0,max:100,value:c,onChange:e=>{m({spread:e||0})},step:1,initialPosition:0,allowReset:!0}),(0,t.createElement)(l.RangeControl,{label:(0,r.__)("Left (px)","fpf-framework"),min:-100,max:100,value:s,onChange:e=>{m({left:e||0})},step:1,initialPosition:0,allowReset:!0}),(0,t.createElement)(l.RangeControl,{label:(0,r.__)("Top (px)","fpf-framework"),min:-100,max:100,value:i,onChange:e=>{m({top:e||0})},step:1,initialPosition:0,allowReset:!0})))};E.propTypes=y;const C=E,x={videoInfo:d().object.isRequired,attributes:d().object.isRequired,setAttributes:d().func.isRequired,setHideOnClick:d().func.isRequired,instanceId:d().string},T=({videoInfo:e,attributes:o,setAttributes:i,setHideOnClick:s,instanceId:c})=>{const{coverImage:p,controls:d,autoplay:m,autopause:b,mute:h,loop:g,branding:_,startTime:k,endTime:y,backgroundColor:E,coverImageType:x,boxShadow:T,privacyMode:B}=o,I=(0,a.useRef)(),$=`video-block__coverImage-image-description-${c}`;return(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,r.__)("Video","firebox"),initialOpen:!0},(0,t.createElement)(l.ToggleControl,{label:(0,r.__)("Autoplay"),checked:m,onChange:e=>i({autoplay:e}),help:(0,r.__)("Set whether to autoplay videos. The video to autoplay may require user interaction with the site as well as will honor browser privacy settings. Muting the video should ensure autoplay works in most cases.","firebox")}),(0,t.createElement)(l.ToggleControl,{label:(0,r.__)("Autopause"),help:(0,r.__)("The video will be auto paused when it goes outside the viewport (video becomes hidden).","firebox"),checked:b,onChange:e=>i({autopause:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,r.__)("Muted"),checked:h,onChange:e=>i({mute:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,r.__)("Loop"),checked:g,onChange:e=>i({loop:e})}),(0,t.createElement)(l.TextControl,{label:(0,r.__)("Start time in seconds.","firebox"),onChange:e=>i({startTime:e}),type:"number",value:k}),"youtube"===e.provider&&(0,t.createElement)(l.TextControl,{label:(0,r.__)("End time in seconds.","firebox"),onChange:e=>i({endTime:e}),type:"number",value:y}),(0,t.createElement)(l.ToggleControl,{label:(0,r.__)("Show Controls"),checked:d,onChange:e=>i({controls:e}),help:(0,r.__)("Set whether to show player controls.","firebox")}),d&&"youtube"===e.provider&&(0,t.createElement)(l.ToggleControl,{label:(0,r.__)("Modest Branding"),checked:_,onChange:e=>i({branding:e}),help:(0,r.__)("If enabled, the video will hide the YouTube logo.","firebox")}),(0,t.createElement)(l.ToggleControl,{label:(0,r.__)("Privacy-Enhanced Mode"),checked:B,onChange:e=>i({privacyMode:e}),help:(0,r.__)("When you turn on privacy-enhanced mode, the video service won't store information about visitors on your website unless they play the video.","firebox")})),(0,t.createElement)(l.PanelBody,{title:(0,r.__)("Block","firebox"),initialOpen:!1},(0,t.createElement)(f,null,(e=>(0,t.createElement)(v,{label:(0,r.__)("Margin (px)","firebox"),attributeKey:"margin",attributes:o,setAttributes:i,breakpoint:e}))),(0,t.createElement)(f,null,(e=>(0,t.createElement)(v,{label:(0,r.__)("Padding (px)","firebox"),attributeKey:"padding",attributes:o,setAttributes:i,breakpoint:e})))),(0,t.createElement)(l.PanelBody,{title:(0,r.__)("Cover Image","firebox"),initialOpen:!1},(0,t.createElement)(l.RadioControl,{options:[{label:(0,r.__)("No Cover Image","firebox"),value:"none"},{label:(0,r.__)("Auto (From video provider)","firebox"),value:"auto"},{label:(0,r.__)("Custom","firebox"),value:"custom"}],selected:x,onChange:t=>i({coverImageType:t,coverImage:"auto"===t?"youtube"===e.provider?"https://img.youtube.com/vi/"+e.id+"/maxresdefault.jpg":"vimeo"===e.provider?"https://vumbnail.com/"+e.id+".jpg":p:"custom"===t?p:""})}),"custom"===x&&(0,t.createElement)(n.MediaUploadCheck,null,(0,t.createElement)(l.BaseControl,{className:"editor-video-coverImage-control"},(0,t.createElement)(n.MediaUpload,{title:(0,r.__)("Select Cover Image","firebox"),onSelect:e=>{i({coverImage:e.url}),s(!1)},allowedTypes:["image"],render:({open:e})=>(0,t.createElement)(l.Button,{variant:"secondary",onClick:e,ref:I,"aria-describedby":$},p?(0,r.__)("Replace image"):(0,r.__)("Select Image"))}),(0,t.createElement)("p",{id:$,hidden:!0},p?sprintf((0,r.__)("The current cover image url is %s"),p):(0,r.__)("There is no cover image currently selected")),!!p&&(0,t.createElement)(l.Button,{className:"fpframework-gutenberg-m-l-5",onClick:()=>{i({coverImage:""}),I.current.focus()},isLink:!0,isDestructive:!0},(0,r.__)("Remove Image"))))),(0,t.createElement)(l.PanelBody,{title:(0,r.__)("Colors","firebox"),initialOpen:!1},(0,t.createElement)(u,{label:(0,r.__)("Background Color","firebox"),value:E,onChange:e=>i({backgroundColor:e})})),(0,t.createElement)(l.PanelBody,{title:(0,r.__)("Border","firebox"),initialOpen:!1},(0,t.createElement)(w,{attributes:o,setAttributes:i,attributePrefix:""})),(0,t.createElement)(l.PanelBody,{title:(0,r.__)("Box Shadow","firebox"),initialOpen:!1},(0,t.createElement)(f,null,(e=>(0,t.createElement)(C,{value:T[e],onUpdate:t=>i({boxShadow:{...T,[e]:t}})})))))};T.propTypes=x;const B=T,I=e=>`block-${e}`,$=(e,t)=>e[t]&&"true"===e[t]?1:0,S=e=>{const t=e.split(/(vi\/|v%3D|v=|\/v\/|youtu\.be\/|\/embed\/|shorts\/)/);return void 0!==t[2]?t[2].split(/[^\w-]/i)[0]:t[0]},O=[/^https?:\/\/((m|www)\.)?youtube\.com\/.+/i,/^https?:\/\/youtu\.be\/.+/i],R=()=>void 0!==window.YT?.Player,P=e=>{const t=e.dataset;new window.YT.Player(e,{videoId:t.videoId,playerVars:{autoplay:0,controls:$(t,"videoControls"),showinfo:0,modestbranding:$(t,"videoBranding"),loop:$(t,"videoLoop"),playlist:t.videoId,fs:0,cc_load_policy:0,iv_load_policy:3,autohide:0,mute:$(t,"videoMute"),start:parseInt(t.videoStart,10)||void 0,end:parseInt(t.videoEnd,10)||void 0},events:{}})},N=e=>{let t=e.split("?")[0].split("/");return t[t.length-1]},j=[/^https?:\/\/(www\.)?vimeo\.com\/.+/i],L=()=>void 0!==window.Vimeo?.Player,A=e=>{const t=e.dataset,o=new window.Vimeo.Player(e,{id:t.videoId,loop:$(t,"videoLoop"),autoplay:0,controls:$(t,"videoControls"),byline:!1,title:!1,autopause:!1,muted:$(t,"videoMute")});t.videoStart&&o.setCurrentTime(t.videoStart)},q=(e,t=[])=>t.some((t=>e.match(t))),D=[/([a-zA-Z0-9\s_\\.\-\(\):])+(.webm|.mkv|.avi|.mov|.mp4|.ogg)/i],U=(e="")=>e?q(e,O)?{id:S(e),provider:"youtube",url:e}:q(e,j)?{id:N(e),provider:"vimeo",url:e}:q(e,D)?{id:e,provider:"self",url:e}:{id:null,provider:"unsupported"}:null,W=({url:e,onVideoUrlChange:t})=>{const[o,r]=(0,a.useState)(null),[n,l]=(0,a.useState)(U(e)),i=(0,a.useCallback)((e=>{null!=e&&r(e)}),[]);return(0,a.useEffect)((()=>{(async()=>{o&&("youtube"===n.provider&&n.id&&P&&(await(()=>{if(!document.querySelector(".fpframework-youtube-api-script")&&!R()){const e=document.createElement("script");e.className="fpframework-youtube-api-script",e.src="https://www.youtube.com/player_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}const e=t=>{R()?t(!0):setTimeout((()=>e(t)),350)};return new Promise(((t,o)=>{e(t,o)}))})(),P(o)),"vimeo"===n.provider&&n.id&&A&&(await(async()=>{if(!document.querySelector(".fpframework-vimeo-api-script")&&!L()){const e=document.createElement("script");e.className="fpframework-vimeo-api-script",e.src="https://player.vimeo.com/api/player.js";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}const e=t=>{L()?t(!0):setTimeout((()=>e(t)),350)};return new Promise(((t,o)=>{e(t,o)}))})(),A(o)))})()}),[o]),{videoInfo:n,handleVideoUrlChange:e=>{let o=U(e);l(o),t?.(e,o)},videoEmbedRef:i}},V=e=>!!e&&Object.values(e).some((e=>null!=e&&""!==e)),M={desktop:"",tablet:991,mobile:575},K=(e=[])=>{if(!e||!e.length)return[];const t=e.reduce(((e,t)=>{const o=(e=>{if(!e)return"";const t=e.match(/[^{\}]+(?=})/gi)[0];return{selector:e.replace(t,"").replace("{","").replace("}","").trim(),style:t.trim()}})(t),r=e.find((({selector:e})=>e===o.selector));return r?(r.styles.push(o.style),e):(e.push({selector:o.selector,styles:[o.style]}),e)}),[]);return t.map((e=>`${e.selector} { ${e.styles.join(" ")} }`))},F=e=>({...e,rules:K(e.rules)}),H=({id:e,value:t,rule:o,unit:n="",edgeCase:a,breakpoint:l="desktop",oneline:i=!1})=>{if(null==t||""===t)return null;let s=o.includes("[BLOCK_ID]")?o.replace("[BLOCK_ID]",e):`${o}`;if((e=>["box-shadow"].some((t=>e.includes(t))))(o))return["inset","outset"].includes(t.type)&&""!==t.color?(0,r.sprintf)(s,`${t.left}px ${t.top}px ${t.width}px ${t.spread}px ${"outset"===t.type?"":t.type} ${t.color}`):null;if((e=>["text-shadow"].some((t=>e.includes(t))))(o))return""!==t.hpos&&""!==t.vpos&&""!==t.blur&&""!==t.color?(0,r.sprintf)(s,`${t.hpos}px ${t.vpos}px ${t.blur}px ${t.color}`):null;if((e=>["padding","border-radius","margin","position-items"].some((t=>e.includes(t)))&&!["padding-","margin-"].some((t=>e.includes(t))))(o)){let e=o.match(/margin|border-radius|padding|position-items/gi)[0];if("position-items"===e){const e=["top","right","bottom","left"].map((e=>{if(null!=t[e]&&""!==t[e])return`${e}: ${"auto"===t[e]?"auto":`${t[e]}${n}`};`})).join(" ");return e.trim()?(c=` ${e} `,s.replace(/[^{\}]+(?=})/gi,c)):null}{const o=((e,t,o="",r=!1)=>{if(!e)return!1;if(V(e)||V(e[t])){const n=e[t]||e;if(["margin","padding"].includes(o)){if(4===Object.values(n).length&&1===new Set(Object.values(n)).size)return`${n.top}px`;if(Object.values(n).every((e=>""!==e))){if(n.top===n.bottom&&n.left===n.right)return`${n.top||0}px ${n.left||0}px`;Object.values(n).map((function(e){return`${e||0}px`})).join(" ")}let e=[],t=["top","right","bottom","left"];return r?(t.forEach((t=>{e.push(`${n[t]||0}px`)})),e.join(" ")):(t.forEach((t=>{""!==n[t]&&e.push(o+"-"+t+":"+n[t]+"px;")})),e)}if("border-radius"===o){if(4===Object.values(n).length&&1===new Set(Object.values(n)).size)return`${n.top_left}px`;if(Object.values(n).every((e=>""!==e))){if(n.top_left===n.bottom_right&&n.bottom_left===n.top_right)return`${n.top_left||0}px ${n.bottom_left||0}px`;Object.values(n).map((function(e){return`${e||0}px`})).join(" ")}let e=[],t=["top_left","top_right","bottom_right","bottom_left"];return r?(t.forEach((t=>{e.push(`${n[t]||0}px`)})),e.join(" ")):(t.forEach((t=>{""!==n[t]&&e.push("border-"+t.replace("_","-")+"-radius:"+n[t]+"px;")})),e)}}return!1})(t,null,e,i);if(!o)return null;if(o&&"string"==typeof o)return(0,r.sprintf)(s,o)||null;if(o&&"object"==typeof o)return s=s.replace("margin: ",""),s=s.replace("padding: ",""),s=s.replace("border-radius: ",""),s=s.replace("%s;","%s"),(0,r.sprintf)(s,o.join(""))||null}}var c;if((e=>!!e&&"object"==typeof e&&"url"in e&&"attachment"in e&&"repeat"in e)(t)){if(!t.url)return;const e=[`background-image: ${"none"!==t.url?`url(${t.url})`:"none"};`,`background-repeat: ${t.repeat};`,`background-size: ${t.size};`,`background-position: ${t.position};`,`background-attachment: ${t.attachment};`].join(" ");return(0,r.sprintf)(s,e)}if(a){const e=a.find((({edge:e})=>e===t));if(e)return""===e.value||e.skipInBreakpoints&&e.skipInBreakpoints.includes(l)?null:(n=e.unit||"",(0,r.sprintf)(s,`${e.value}${n}`))}return(0,r.sprintf)(s,`${t}${n}`)},Y=e=>a.Children.toArray(e).map((e=>Array.isArray(e.props.children)?Y(e.props.children):e)).reduce(((e,t)=>Array.isArray(t)?[...e,...t]:[...e,t]),[]).filter((e=>e.type&&"Rule"===e.type.displayName)),z={children:g().oneOfType([g().node,g().array]),id:g().string},G=({id:e="",children:o})=>{const r=(({id:e,children:t,getCSSRule:o,mapper:r=(e=>e)})=>{const n=[{name:"desktop",media:"max",width:M.desktop,rules:[]},{name:"tablet",media:"max",width:M.tablet,rules:[]},{name:"mobile",media:"max",width:M.mobile,rules:[]},{name:"desktop-only",media:"min",width:M.tablet+1,rules:[]},{name:"tablet-only",media:"min",width:M.mobile+1,rules:[]}];return Y(t).reduce(((t,r)=>{const{value:n,rule:a,unit:l,edgeCase:i,breakpointLimit:s,oneline:c}=r.props;if(null==n)return t;if("object"!=typeof n||!("desktop"in n)){const r=t.find((({name:e})=>"desktop"===e)),s=o({id:e,value:n,rule:a,unit:l,edgeCase:i,breakpoint:"desktop",oneline:c});return null!=s&&r.rules.push(s),t}return Object.keys(n).forEach((r=>{const p=t.find((({name:e})=>s&&"mobile"!==r?`${r}-only`===e:e===r)),d=o({id:e,value:n[r],rule:a,unit:l,edgeCase:i,breakpoint:r,oneline:c});null!=d&&p&&p.rules.push(d)})),t}),n).map(r)})({id:e,children:o,getCSSRule:H,mapper:F});return(e=>e.every((e=>0===e.rules.length)))(r)?null:(0,t.createElement)("style",{dangerouslySetInnerHTML:{__html:(n=r,n.reduce(((e,t)=>{if(!t.rules.length)return e;const o=t.rules.map((e=>e.trim())).join("\n");return t.width?"tablet-only"===t.name?`${e}\n\n\t\t\t\t@media (min-width: ${M.mobile+1}px) and (max-width: ${M.tablet}px) {\n\t\t\t\t\t${o}\n\t\t\t\t}\n\t\t\t\t`:`${e}\n\n\t\t\t@media (${t.media}-width: ${t.width}px) {\n\t\t\t\t${o}\n\t\t\t}\n\t\t\t`:`${e}${o}\n`}),"").trim())}});var n};G.propTypes=z;const Z=G,J={value:g().oneOfType([g().string,g().number,g().object]).isRequired,rule:g().string.isRequired,unit:g().oneOf(["","px","%","em","rem","vh","vw","pt","cm","mm"]),edgeCase:g().arrayOf(g().shape({edge:g().any.isRequired,value:g().oneOfType([g().string,g().number]).isRequired,skipInBreakpoints:g().array})),breakpointLimit:g().bool,oneline:g().bool},Q=()=>null;Q.displayName="Rule",Q.propTypes=J;const X=Q,ee=({attributes:e,prefix:t="block"})=>{const o=(({attributes:e,prefix:t="block"})=>{const o=t?`${t}BorderColor`:"borderColor",r=e&&o in e?e[o]:null,n=t?`${t}BorderWidth`:"borderWidth",a=e&&n in e?e[n]:null,l=t?`${t}BorderStyle`:"borderStyle",i=e&&l in e?e[l]:null;return i&&"none"!==i?{borderColor:r||void 0,borderStyle:"none"!==i&&i?i:void 0,borderWidth:null!=a?`${a}px`:void 0}:{borderColor:void 0,borderStyle:void 0,borderWidth:void 0}})({attributes:e,prefix:t});return o.borderWidth&&o.borderStyle&&o.borderColor?`${o.borderWidth} ${o.borderStyle} ${o.borderColor}`:""},te={attributes:d().object.isRequired,children:d().node},oe=({attributes:e,children:o})=>{const{uniqueId:r,margin:n,padding:a,borderRadius:l,coverImage:i,backgroundColor:s}=e,c=I(r);return(0,t.createElement)(Z,{id:c},(0,t.createElement)(X,{value:n,rule:".wp-block-firebox-video.[BLOCK_ID] { margin: %s; }",unit:"px"}),(0,t.createElement)(X,{value:a,rule:".wp-block-firebox-video.[BLOCK_ID] { padding: %s; }",unit:"px"}),(0,t.createElement)(X,{value:s,rule:".wp-block-firebox-video.[BLOCK_ID] { --background-color: %s; }"}),(0,t.createElement)(X,{value:i,rule:".wp-block-firebox-video.[BLOCK_ID] .fpf-video-embed-overlay { --cover-image: url('%s'); }"}),(0,t.createElement)(X,{value:ee({attributes:e,prefix:""}),rule:".wp-block-firebox-video.[BLOCK_ID] { --border: %s; }",unit:""}),(0,t.createElement)(X,{value:l,rule:".wp-block-firebox-video.[BLOCK_ID] { --border-radius: %s; }",oneline:!0}),(({attributes:e,selector:o=""})=>(0,t.createElement)(X,{value:e.boxShadow,rule:o+" { box-shadow: %s !important; }",unit:""}))({attributes:e,selector:".wp-block-firebox-video.[BLOCK_ID]"}),o)};oe.propTypes=te;const re=oe,ne=()=>(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("circle",{cx:"24",cy:"24",r:"20",stroke:"#2438E9",strokeWidth:"3",fill:"white"}),(0,t.createElement)("path",{d:"M31 22.2679C32.3333 23.0377 32.3333 24.9623 31 25.7321L22 30.9282C20.6667 31.698 19 30.7358 19 29.1962L19 18.8038C19 17.2642 20.6667 16.302 22 17.0718L31 22.2679Z",stroke:"#2438E9",strokeWidth:"3"})),ae=window.lodash;(0,e.registerBlockType)("firebox/video",{icon:ne,edit:({className:e,attributes:o,setAttributes:s,instanceId:p,clientId:d,isSelected:u})=>{const{uniqueId:m,videoUrl:b,coverImage:f,coverImageType:v,startTime:h,endTime:g,controls:_,autoplay:k,mute:w,loop:y,branding:E}=o,{addUniqueID:C}=(0,i.useDispatch)("firebox/data"),{isUniqueID:x,isUniqueBlock:T,parentData:$}=(0,i.useSelect)((e=>({isUniqueID:t=>e("firebox/data").isUniqueID(t),isUniqueBlock:(t,o)=>e("firebox/data").isUniqueBlock(t,o),parentData:{rootBlock:e("core/block-editor").getBlock(e("core/block-editor").getBlockHierarchyRootClientId(d)),postId:e("core/editor")?.getCurrentPostId()?e("core/editor")?.getCurrentPostId():"",reusableParent:e("core/block-editor").getBlockAttributes(e("core/block-editor").getBlockParentsByBlockName(d,"core/block").slice(-1)[0]),editedPostId:!!e("core/edit-site")&&e("core/edit-site").getEditedPostId()}})),[d]);useEffect((()=>{const e=function(e){const{postId:t,reusableParent:o,editedPostId:r}=e,n=function(e,t,o="block-unknown"){return(0,ae.has)(t,"ref")?t.ref:e||o}(t,o,0);return 0===n&&r?function(e){for(var t=5381,o=e.length;o;)t=33*t^e.charCodeAt(--o);return t>>>0}(r)%1e6:n}($);let t=function(e,t,o,r,n="",a=!1){const l=e&&2===e.split("_").length,i=(n?n+"_":"")+t.substr(2,9);return!e||l&&e.split("_")[0]!==n.toString()?o(i)?i:(0,ae.uniqueId)(i):o(e)||r(e,t)?e:a?(0,ae.uniqueId)(i):i}(m,d,x,T,e);t!==m?(o.uniqueId=t,s({uniqueId:t}),C(t,d)):(s({uniqueId:m}),C(m,d))}),[]);const S=I(m),[O,R]=(0,a.useState)(!1),[P,N]=(0,a.useState)(!b),[j,L]=(0,a.useState)(!1),A=(0,a.useRef)(),{videoInfo:q,handleVideoUrlChange:D,videoEmbedRef:U}=W({url:b,onVideoUrlChange:(e,t)=>{s({videoUrl:e,coverImage:"auto"===v?"youtube"===t.provider?"https://img.youtube.com/vi/"+t.id+"/maxresdefault.jpg":"vimeo"===t.provider?"https://vumbnail.com/"+t.id+".jpg":f:"custom"===v?f:""})}});if(!u&&j&&L(!1),P){const o=(0,n.useBlockProps)({id:S,className:c()(e,S,{"fpf-video":!0,"wp-block":!0})});return(0,t.createElement)("div",{...o},(0,t.createElement)(l.Placeholder,{icon:ne,label:(0,r.__)("FireBox Video Block"),className:"wp-block-embed",instructions:(0,r.__)("Paste a YouTube or Vimeo video URL to embed on your site.","firebox"),isColumnLayout:!1},(0,t.createElement)("form",{onSubmit:e=>{e?.preventDefault(),N(!1)}},(0,t.createElement)("input",{type:"url",value:b,className:"components-placeholder__input","aria-label":(0,r.__)("embed-url"),placeholder:(0,r.__)("Enter URL to embed...","firebox"),onChange:e=>D(e.target.value)}),b&&"unsupported"!==q.provider&&(0,t.createElement)(l.Button,{isPrimary:!0,type:"submit"},(0,r.__)("Embed","firebox")),"unsupported"===q?.provider&&(0,t.createElement)("div",null,(0,r.__)("Invalid URL entered. Please enter a valid YouTube or Vimeo URL.","firebox")))))}const V=(0,n.useBlockProps)({className:c()({"wp-block":!0})});return(0,t.createElement)("div",{...V},(0,t.createElement)("div",{id:S,className:c()(e,S,"wp-block-firebox-video","fpf-video")},(0,t.createElement)(re,{attributes:o}),(0,t.createElement)(B,{videoInfo:q,attributes:o,setAttributes:s,setHideOnClick:R,instanceId:p}),(0,t.createElement)("div",{className:"fpf-video-embed-wrapper"},(0,t.createElement)("div",{className:"fpf-video-embed",ref:U,"data-video-id":q.id,"data-video-controls":_,"data-video-type":q.provider,"data-video-mute":w,"data-video-loop":y,"data-video-start":h,"data-video-end":g,"data-video-autoplay":k,"data-video-branding":E},(0,t.createElement)("div",{id:`video-${S}`})),f&&!O&&(0,t.createElement)("div",{ref:A,className:"fpf-video-embed-overlay",onClick:()=>R(!0)},(0,t.createElement)("div",{className:"play-button"}))),!j&&(0,t.createElement)("div",{className:"firebox-video-embed-interactive-overlay",onMouseUp:()=>L(!0)})),(0,t.createElement)(n.BlockControls,null,(0,t.createElement)(l.ToolbarGroup,null,(0,t.createElement)(l.ToolbarButton,{className:"components-icon-button components-toolbar__control",label:(0,r.__)("Change video URL"),onClick:()=>N(!0),icon:"edit"}))))},save:()=>null})})()})();